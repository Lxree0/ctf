<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login</title>
    <link rel="stylesheet"
      href="{{ url_for('static', filename='css/style_login.css') }}" />
  </head>
  <body>

    <div class="login-container">

      <!-- Icona utente -->
      <div class="login-icon">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 
                 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 
                 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
        </svg>
      </div>

      <!-- Titolo -->
      <h1>Login</h1>

      <!-- Form di login -->
      <form method="POST" action="/">

        <!-- Username -->
        <div class="input-group">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 
                   1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 
                   1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
          </svg>

          <input name="username" type="text" placeholder="Inserisci username"
            required />
        </div>

        <!-- Password -->
        <div class="input-group">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24">
            <path
              d="M12 17a2 2 0 0 0 2-2v-3a2 2 0 1 0-4 0v3a2 2 0 0 0 2 2zm6-7h-1V7a5 5 0 0 0-10 0v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z" />
          </svg>
          <input name="password" type="password"
            placeholder="Inserisci password" required />
        </div>

        <!-- Messaggio di errore -->
        {% if error %}
        <p class="error-msg">{{ error }}</p>
        {% endif %}

        <button type="submit" class="login-btn">Accedi</button>

      </form>

      <!-- Pulsante login come ospite -->
      <br><br><br>
      <form action="/guest" method="post">
        <button type="submit" class="login-btn">Entra come Ospite</button>
      </form>
      <br><br><br>
      <!-- Flash messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <div class="flash-container">
        {{messages}}
      </div>
      {% endif %}
      {% endwith %}

    </div>

    <!-- Footer -->
    <footer class="login-footer">
      <p>© 2025 CyberSecurity Dashboard — All Rights Reserved</p>
      <p>Platform created By Lorenzo Lega and Simone Giove</p>
      <div class="footer-links">
        <a href="{{ url_for('PlatformCred') }}">Platform & Challs Credits</a>
        <a href="{{ url_for('about') }}">about us</a>
        <a href="{{ url_for('contact') }}">Contact</a>
      </div>
    </footer>
  </body>
</html>
